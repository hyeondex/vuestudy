<template>
  <div id="app">
    <h1>checkbox</h1>
    <ul class="exem">
      <li>
        ì²´í¬ë°•ìŠ¤ ì „ì²´ì„ íƒ
        <label :class="{ label: true, checked: this.checkList.allChecked }">
          <!-- ë¬´ì¡°ê±´ true ì¸ ê²½ìš°ì—ëŠ” ë³´ì´ë‹ˆê¹Œ ë”°ë¡œ ì ì§€ë§ê³  ì•ˆì— ë¬¶ì–´ì„œ ì ê¸° -->
          <input
            type="checkbox"
            v-model="allChecked"
            @click="checkAll"
          />ì „ì²´ë™ì˜ {{ allChecked }}
        </label>
        <ul>
          <li v-for="(item, index) in checkList.list" :key="index">
            <check-box
              v-model="checkList.itemCheck"
              :value="item.value"
              @change="updateChecked"
            >
              <span slot="span">
                {{ item.value }}
              </span>
            </check-box>
          </li>
        </ul>
        <p>itemCheck(checkedë¨) : {{ checkList.itemCheck }}</p>
      </li>
    </ul>
  </div>
</template>

<script>
import checkBox from "./components/checkBox.vue";
import "./css/app.css";

export default {
  name: "App",
  components: {
    checkBox,
  },
  data() {
    return {
      checkList: {
        //allList: [],
        itemCheck: [], // ì²´í¬í•œ ê°’
        list: [
          // ë°ì´í„°
          {
            id: "ch1",
            value: "ch1",
            name: "ch1",
          },
          {
            id: "ch2",
            value: "ch2",
            name: "ch2",
          },
          {
            id: "ch3",
            value: "ch3",
            name: "ch3",
          },
          {
            id: "ch4",
            value: "ch4",
            name: "ch4",
          },
        ],
      },
    };
  },
  computed: {
    allChecked: {},
  },
  methods: {
    checkAll() {
      // console.log(this.allChecked);
      this.checkList.itemCheck = [];
      if (!this.checkList.allChecked) {
        this.checkList.list.forEach((e) => {
          this.checkList.itemCheck.push(e.value); //forEachë¡œ value ê°’ ë‹´ì•„ì£¼ê¸°
        });
      }
    },
    updateChecked() {
      console.log("ìì‹ì—ê²Œ ë°›ì€ ì´ë²¤íŠ¸ ë° ë°ì´í„°", this.checking);
      /*
      console.log(this.checked);
      this.checkList.allChecked =
        this.checkList.itemCheck.length === this.checkList.list.length;*/
      //allChecked = this.checkList.itemCheck.length === this.checkList.list.length > true
    },
  },
};
</script>

<style>
#app {
}
</style>

<template>
  <li>
    codeë¥¼ ë³´ê¸°ì „ì—,,,, ì œê°€ ìƒê°í•œ ë¡œì§ì€...
    <ol>
      <li>
        ìì‹ checkBox, checkBoxAll component
        <ol>
          <li>checkBoxì—ëŠ” input ê´€ë ¨í•œ ì»´í¬ë„ŒíŠ¸,</li>
          <li>
            checkBoxAllì—ëŠ” checkBox ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ ëª¨ë‘ checked ëì„ ë•Œ
            ì‚¬ìš©í•  input ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ <br />
            (ì œê°€ êµ¬í˜„í•˜ë‹¤ê°€ ìê¾¸ ì˜¤ë¥˜ë‚˜ì„œ ì´ ë¶€ë¶„ì€ ì—¬ê¸°ì— ì—†ìŠµë‹ˆë‹·..ğŸ˜­)
          </li>
        </ol>
      </li>
      <li>
        ë¶€ëª¨ components ë°›ì•„ì™€ì„œ ë¶™ì´ê¸°
        <ol>
          <li>
            data(inputì— ë‹´ëŠ” ë°°ì—´ ë“±ë“±,,), props data, check ê´€ë ¨ method
            ìˆìŠµë‹ˆë‹¤.
          </li>
        </ol>
      </li>
    </ol>
    <p class="blight">
      input type="check"ì—ëŠ”
      <span class="hlight">value ì†ì„±</span>ê³¼
      <span class="hlight">input ì´ë²¤íŠ¸</span>ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤
    </p>
  </li>
  <li>
    code : checkBox components
    <div class="code">
      <pre>
&lt;label <strong class="hlight"> :class="{ checked: clickCheck }"</strong> class="label"&gt;
    &lt;input
      type="checkbox"
      :value="value"<div class="hlight">      @change="onChange"</div>      :checked="clickCheck"
    /&gt;
    &lt;slot name="span"&gt;&lt;/slot&gt;
  &lt;/label&gt;</pre>
    </div>
    <p class="exp">
      lebelì€ inputì´ ì²´í¬ë  ë•Œë§ˆë‹¤ checkedë¥¼ ë¶™ì…ë‹ˆë‹¤.<br />
      :class="checked"ëŠ” clickCheckì˜ true falseë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
    </p>
    <div class="code">
      <pre>
<strong class="hlight">computed</strong>: {
    clickCheck() {
        return this.checking.some(
            (el) = &gt; el === this.value
            (el) = &gt; el === this.value
            );
    },
},</pre>
    </div>
    <p class="exp">
      clickCheck(){} <br />
      clickCheckë¥¼ this.checkingì€ ìœ„ì—ì„œ checkItemìœ¼ë¡œ pushëœ ë°°ì—´ë¡œ some()ë¡œ
      el === this.value ì¼ ë•Œ true, ì•„ë‹ˆë©´ false ì…ë‹ˆë‹¤.
      <br />( computedëŠ” dataì´ê¸°ë•Œë¬¸ì— return í•„ìˆ˜!ì…ë‹ˆë‹¤.)
    </p>
    <p class="blight">
      some()í•¨ìˆ˜ëŠ” ë°°ì—´ì—ì„œ ê°’ì„ ì°¾ëŠ” ì¡°ê±´ì„ callback í•¨ìˆ˜ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
    </p>
    <p class="exp"></p>
    <div class="code">
      <pre>
<strong class="hlight">onChange()</strong>{
      const idx = this.checking.indexOf(this.value);
      if (idx === -1) {
        this.checking.push(this.value);
      } else {
        this.checking.splice(idx, 1);
      }
      this.$emit("change", this.checking);
    },</pre>
    </div>
    <p class="blight">input="check"ëŠ” @changeë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ !</p>
    <p class="exp">
      @change="checkItem(value)"ì—ì„œ this.checking ë°°ì—´ì—ì„œ valueë¥¼ ì°¾ìŠµë‹ˆë‹¤.
      ì•„ë¬´ê²ƒë„ ì—†ê±°ë‚˜, ì°¾ëŠ” ìš”ì†Œê°€ ì—†ì„ ë•Œ (ëˆŒë¦°í›„ ë‹¤ìŒì—) checking ë°°ì—´ì—
      valueë¥¼ pushí•©ë‹ˆë‹¤.(checked) <br />ë‹¤ì‹œ ëˆ„ë¥¸ ê²½ìš° spliceí•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì„œ
      idxì—ì„œ 1ê°œì”© ì§€ì›ë‹ˆë‹¤. ( checked í•´ì œ )
    </p>
    <div class="code">
      <pre>
props: ["value", "checking"],
<strong class="hlight">model</strong>: {
    <strong class="hlight">prop</strong>: "checking",
    <strong class="hlight">evnet</strong>: "change",
  },</pre>
    </div>
    <p class="exp">
      propsëŠ” ë¶€ëª¨ì—ê²Œ ë°›ì€ ê°’, modelì€ 'checking'ì˜ ê°’ì„ ë³€ê²½í•˜ëŠ” ì´ë²¤íŠ¸ì™€
      'checking'ì˜ ê°’ìœ¼ë¡œ ë‹¤ì‹œ ë¶€ëª¨ë¡œ ë³´ë‚´ì•¼ í•˜ëŠ” ê²½ìš° ìœ„ ì½”ë“œ í˜•ì‹ìœ¼ë¡œ ë³´ëƒ…ë‹ˆë‹·
      !
    </p>
  </li>
  <li>
    code : ë¶€ëª¨ í˜ì´ì§€ ( allchecked )
    <div class="code">
      <pre>
  &lt;label
    for="all"
    class="label"
    :class="{ checked: this.checkList.allChecked }"
  &gt;
    &lt;input
      id="all"
      value="all"
      type="checkbox"
      v-model="checkList.allChecked"
      <strong class="hlight">@click="checkAll"</strong>
    /&gt;ì „ì²´ë™ì˜ {{ checkList.itemCheck }}
  &lt;/label&gt;</pre>
    </div>
    <p class="exp">
      lebelì—ëŠ” class="checked"ë¥¼ allchecked: Boolean ì˜ ê°’ì— ë”°ë¼ ì ìš© í•  ìˆ˜
      ìˆë„ë¡ í–ˆìŠµë‹ˆë‹¤. checkListì—ì„œ ì„ íƒëœ ê°’ì„ ë‹´ëŠ” ë°°ì—´ì„ v-modelë¡œ
      ì„¤ì •í–ˆìŠµë‹ˆë‹¤. checkedëœ ë°ì´í„°ê°€ ë‹´ê¸°ëŠ” ë°°ì—´ì˜ lengthì™€ ê¸°ë³¸ checkboxì—
      ë¿Œë ¤ì§€ëŠ” ë°°ì—´ì˜ lengthë¥¼ ë¹„êµí•´ allCheckedì˜ booleanì— ë§ì¶°ì„œ ë™ì‘í•©ë‹ˆë‹¤.
    </p>
    <div class="code">
      <pre>
checkAll() {
  this.checkList.itemCheck = [];
  if (!this.checkList.allChecked) {
    this.checkList.list.forEach((e) => {
      this.checkList.itemCheck.push(e.value);<span class="green">//forEachë¡œ value ê°’ ë‹´ì•„ì£¼ê¸°</span>
    });
  }
},</pre>
    </div>
    <p class="exp">ìƒë‹¨ @click ì´ë²¤íŠ¸ <br /></p>
    <div class="code">
      <pre>
            &lt;ul&gt;
          &lt;li v-for="(item, index) in checkList.list" :key="index"&gt;
            &lt;check-box
              v-model="checkList.itemCheck"
              :value="item.value"
              <strong class="hlight">@change="updateChecked(checkList)" </strong>
            &gt;
              &lt;span slot="span"&gt;
              item.value <span class="green">//{{}}</span>
              &lt;/span&gt;
            &lt;/check-box&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
          </pre>
    </div>
    <p class="exp">
      v-forë¥¼ ì‚¬ìš©í•´ dataì— ë“¤ì–´ê°„ checkbox list ë¿Œë¦½ë‹ˆë‹¤.<br />
    </p>
    <div class="code">
      <pre>
            updateChecked(list) {
      if (list.itemCheck.length === list.list.length) {
        list.allChecked = true;
      } else {
        list.allChecked = false;
      }
    }</pre
      >
    </div>
    <p class="exp">
      ìœ„ì— ìˆëŠ” @change="updateChecked(checkList)" ì…ë‹ˆë‹¤.<br />
      ë°›ì•„ì˜¤ëŠ” listëŠ” checklistì…ë‹ˆë‹¤! checkedëœ ë°°ì—´ì¸ itemCheck.lengthì™€ data
      list ë‚´ì— ìˆëŠ” ë°°ì—´ì˜ lengthì˜ ê°œìˆ˜ê°€ ë™ì¼ í•œ ê²½ìš° ì „ì²´ ì²´í¬ë©ë‹ˆë‹¤.
    </p>
  </li>
</template>

<script>
export default {
  name: "appvueback",
};
</script>

<style scoped></style>
